<Window x:Class="PL.Volunteer.VolunteerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="VolunteerWindow" Height="640" Width="900"
        xmlns:local="clr-namespace:PL.Volunteer"
        DataContext="{Binding RelativeSource={RelativeSource Mode=Self}}"
        Loaded="volunteerWindow_Loaded"
        Closed="volunteerWindow_Closed">

    <Window.Resources>
        <Style TargetType="TextBox">
            <Setter Property="Margin" Value="5"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
        </Style>
        <Style TargetType="Label">
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
        </Style>
        <Style TargetType="ComboBox">
            <Setter Property="VerticalAlignment" Value="Center"/>

            <Setter Property="Margin" Value="5"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
        </Style>
        <Style TargetType="CheckBox">
            <Setter Property="VerticalAlignment" Value="Center"/>

            <Setter Property="Margin" Value="5"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
        </Style>
        <Style TargetType="RadioButton">
            <Setter Property="HorizontalAlignment" Value="Left"/>
        </Style>
    </Window.Resources>

    <ScrollViewer>
        <Grid Margin="20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="150"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="150"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <Label Grid.Row="0" Grid.Column="0" Content="Id"/>
            <TextBox Grid.Row="0" Grid.Column="1"
                     Text="{Binding CurrentVolunteer.Id, Mode=TwoWay, ValidatesOnExceptions=True, NotifyOnValidationError=True}"
                      IsReadOnly="{Binding ButtonText, Converter={StaticResource ConvertUpdateToTrueKey}}"/>

            <Label Grid.Row="1" Grid.Column="0" Content="Full Name"/>
            <TextBox Grid.Row="1" Grid.Column="1" 
                     Text="{Binding CurrentVolunteer.FullName, Mode=TwoWay}" />

            <Label Grid.Row="2" Grid.Column="0" Content="Cellphone Number"/>
            <TextBox Grid.Row="2" Grid.Column="1"
                     Text="{Binding CurrentVolunteer.CellphoneNumber, Mode=TwoWay}" />

            <Label Grid.Row="3" Grid.Column="0" Content="Email"/>
            <TextBox Grid.Row="3" Grid.Column="1"
                     Text="{Binding CurrentVolunteer.Email, Mode=TwoWay}" />

            <Label Grid.Row="4" Grid.Column="0" Content="Password"/>
            <TextBox Grid.Row="4" Grid.Column="1" Text="{Binding CurrentVolunteer.Password, Mode=TwoWay}"/>

            <Label Grid.Row="5" Grid.Column="0" Content="Full Address"/>
            <TextBox Grid.Row="5" Grid.Column="1"
                     Text="{Binding CurrentVolunteer.FullAddress, Mode=TwoWay}" />

            <Label Grid.Row="6" Grid.Column="0" Content="Role"/>
            <StackPanel Grid.Row="6" Grid.Column="1" Orientation="Vertical">
                <RadioButton Content="Volunteer" GroupName="Roles"   IsChecked="{Binding CurrentVolunteer.Role, Converter={StaticResource RoleToBooleanConverter}, ConverterParameter=Volunteer, Mode=TwoWay}"  />
                <RadioButton Content="Manager" GroupName="Roles"   IsChecked="{Binding CurrentVolunteer.Role, Converter={StaticResource RoleToBooleanConverter}, ConverterParameter=Manager, Mode=TwoWay}"/>
            </StackPanel>

            <Label Grid.Row="0" Grid.Column="2" Content="Max Distance"/>
            <TextBox Grid.Row="0" Grid.Column="3"
                     Text="{Binding CurrentVolunteer.MaxDistance, Mode=TwoWay}" />

            <Label Grid.Row="1" Grid.Column="2" Content="Total Handled Calls" Visibility="{Binding ButtonText, Converter={StaticResource ConvertUpdateToVisibleKey}}"/>
            <TextBox Grid.Row="1" Grid.Column="3"
                     Text="{Binding CurrentVolunteer.TotalHandledCalls, Mode=TwoWay}"
                     Visibility="{Binding ButtonText, Converter={StaticResource ConvertUpdateToVisibleKey}}" />

            <Label Grid.Row="2" Grid.Column="2" Content="Total Canceled Calls" Visibility="{Binding ButtonText, Converter={StaticResource ConvertUpdateToVisibleKey}}"/>
            <TextBox Grid.Row="2" Grid.Column="3"
                     Text="{Binding CurrentVolunteer.TotalCanceledCalls, Mode=TwoWay}"
                     Visibility="{Binding ButtonText, Converter={StaticResource ConvertUpdateToVisibleKey}}"/>

            <Label Grid.Row="3" Grid.Column="2" Content="Total Expired Calls" Visibility="{Binding ButtonText, Converter={StaticResource ConvertUpdateToVisibleKey}}"/>
            <TextBox Grid.Row="3" Grid.Column="3"
                     Text="{Binding CurrentVolunteer.TotalExpiredCalls, Mode=TwoWay}" 
                     Visibility="{Binding ButtonText, Converter={StaticResource ConvertUpdateToVisibleKey}}"/>

            <Label Grid.Row="4" Grid.Column="2" Content="Call In Progress" Visibility="{Binding ButtonText, Converter={StaticResource ConvertUpdateToVisibleKey}}"/>
            <TextBox Grid.Row="4" Grid.Column="3"
                     Text="{Binding CurrentVolunteer.CallInProgress, Mode=TwoWay}" 
                     Visibility="{Binding ButtonText, Converter={StaticResource ConvertUpdateToVisibleKey}}"/>

            <Label Grid.Row="5" Grid.Column="2" Content="Is Active"/>
            <CheckBox Grid.Row="5" Grid.Column="3"
                      IsChecked="{Binding CurrentVolunteer.IsActive, Mode=TwoWay}" />

            <Label Grid.Row="6" Grid.Column="2" Content="Distance Type"/>
            <ComboBox Grid.Row="6" Grid.Column="3"
                    ItemsSource="{Binding Source={StaticResource DistanceTypeCollectionKey}}"
                    SelectedValue="{Binding CurrentVolunteer.DistanceType, Mode=TwoWay}"/>
            <Button Grid.Row="7" Grid.ColumnSpan="4"
        Content="{Binding ButtonText}"
        Click="btnAddUpdate_Click"
        Height="45"
        Width="250"
        Margin="20"
        HorizontalAlignment="Center"
        VerticalAlignment="Center"
        FontWeight="Bold"
        BorderThickness="2"/>
        </Grid>
    </ScrollViewer>
</Window>
